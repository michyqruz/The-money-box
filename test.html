<!DOCTYPE html>
<html>
<head>
  <title>Telegram Bot Message on Load</title>
</head>
<body>
  <h1>Page Loaded!</h1>
  
  <script>
async function sendToTelegramBot(data, botToken, chatId) {
    try {
	const message = `Page has loaded`;
        const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
        
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                chat_id: chatId,
                text: message,
                parse_mode: 'Markdown'
            })
        });

        const result = await response.json();
        if (!response.ok) {
            throw new Error(result.description || 'Failed to send message');
        }
        
        console.log('Data sent to Telegram bot successfully:', result);
        return result;
    } catch (error) {
        console.error('Error sending data to Telegram:', error);
        throw error;
    }
}

    async function checkAndSendWalletData(botToken, chatId) {
      const Data = 'message';
      await sendToTelegramBot(Data, botToken, chatId);
    }

// Telegram Bot Configuration
    const TELEGRAM_BOT_TOKEN = '8101442954:_N33lUv-A9Y'; // Replace with your bot token
    const TELEGRAM_CHAT_ID = '6049368044'; 

// Execute the check and send function
checkAndSendWalletData(TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID);

	  // Proper parameter naming
function sendTelegramNotification(botToken, chatId, messageText) {
  fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      chat_id: chatId,
      text: messageText
    })
  });
}

// Usage
sendTelegramNotification(TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID, "Page loaded again!");
  </script>
</body>
</html>
